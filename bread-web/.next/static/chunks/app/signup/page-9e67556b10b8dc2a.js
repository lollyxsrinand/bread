(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520,879],{7709:(e,a,t)=>{"use strict";t.d(a,{AuthForm:()=>d});var r=t(7130),s=t(2338),n=t(8389);let o=(0,s.Wp)({apiKey:"AIzaSyAZkQhl9SJX1TdXMFIR4Ks0_nXP4vd_4p8",authDomain:"bany-2c895.firebaseapp.com",projectId:"bany-2c895",storageBucket:"bany-2c895.firebasestorage.app",messagingSenderId:"641645945497",appId:"1:641645945497:web:38f34f55c4bbf73950ce08",measurementId:"G-6Y2KZHRE0J"}),l=(0,n.xI)(o);var c=t(7436);let i=async(e,a,t)=>{try{return"Login"===e?await (0,n.x9)(l,a,t):await (0,n.eJ)(l,a,t)}catch(e){return console.log(e),null}},p=async e=>{try{return(await fetch("http://localhost:3001/signup",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok}catch(e){return console.error("Error creating user in backend:",e),!1}},u=async e=>{try{return(await fetch("/api/login",{method:"POST",body:JSON.stringify({uid:e}),headers:{"Content-Type":"application/json"}})).ok}catch(e){return console.error("ouchy ouchy creating session",e),!1}},d=e=>{let{AuthType:a}=e,t=(0,c.useRouter)(),s=async e=>{e.preventDefault();let r=new FormData(e.currentTarget),s=r.get("email"),n=r.get("password"),o=await i(a,s,n);if(!o)return void console.log("something wrong");"Signup"===a&&await p(o.user.uid),await u(o.user.uid)&&t.push("/home")};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"h-screen w-full flex items-center justify-center",children:(0,r.jsxs)("form",{onSubmit:s,className:"h-[320px] w-[240px] p-[10px] flex flex-col items-center justify-center gap-[10px] text-center",children:[(0,r.jsx)("h1",{className:"text-[24px] font-bold p-[5px] w-full",children:a}),(0,r.jsxs)("div",{className:"flex flex-col gap-[10px] items-center jusitfy-center w-full",children:[(0,r.jsx)("input",{className:"p-[10px] bg-[#e5e5ea] focus: border-none rounded-[4px] w-full",placeholder:"email",type:"email",name:"email"}),(0,r.jsx)("input",{className:"p-[10px] bg-[#e5e5ea] rounded-[4px] w-full",placeholder:"password",type:"password",name:"password"})]}),(0,r.jsx)("button",{type:"submit",className:"bg-[#242628] w-full p-[10px] rounded-[4px] text-white",children:a}),(0,r.jsxs)("p",{children:[" or "," ",(0,r.jsx)("a",{className:"font-bold",href:"Login"===a?"/signup":"/login",children:"Login"===a?"signup":"login"})]})]})})})}},7717:(e,a,t)=>{Promise.resolve().then(t.bind(t,7709))}},e=>{var a=a=>e(e.s=a);e.O(0,[887,444,113,821,358],()=>a(7717)),_N_E=e.O()}]);